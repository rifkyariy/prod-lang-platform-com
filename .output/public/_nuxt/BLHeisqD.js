import{_ as N}from"./CizdsbHW.js";import{_ as M,E as O,D as P,r as m,h as T,G as p,c as g,a as t,b as s,w as V,t as f,z as b,a4 as w,d as h,$ as I,l as U,i as l,m as j,p as E,v as F,o as d}from"./BEkH225l.js";import{u as L,_ as R}from"./u12rnr9u.js";import{S as A}from"./CtnZm5UB.js";import{P as G}from"./BP8UTi2G.js";import"./DswlE1Sz.js";import"./DeYLDte9.js";const H={class:"h-[0px]"},q={key:0,class:"flex h-screen"},J={class:"sticky top-0 h-screen"},K={class:"flex flex-col w-full bg-slate-100"},Q={class:"p-6 w-full flex justify-between"},W={class:"flex gap-3 items-center"},X={class:"font-semibold"},Y={class:"mx-2"},Z={class:"absolute right-0 z-10 mt-10 w-48 py-1 bg-white rounded-lg shadow-lg"},ee={class:"w-full h-full"},te={key:0,class:"absolute top-2 right-8 bg-red-600 text-white text-xs px-2 ml-1 rounded-full z-20"},se={__name:"merchant",setup(oe){const a=L(),y=O(),x=P(),v=m(!0),i=m({fullname:"",photo:""}),r=m(!1),c=m(!1),k=()=>{r.value=!r.value,localStorage.setItem("sidenav-closed",r.value)};y.params.id;const S=[{label:"Dashboard",icon:"i-heroicons-home",to:"/my/merchant/dashboard"},{label:"Orders",icon:"i-heroicons-building-storefront",to:"/my/merchant/orders"}],C=async()=>{try{i.value=p("token").value.user||null}catch(o){console.error("Fetching user failed:",o)}finally{v.value=!1}},_=o=>{x.push(o)},z=()=>{const o=p("token");o.value=null,c.value=!1,x.push("/auth/login")};return T(async()=>{r.value=localStorage.getItem("sidenav-closed")==="true",p("token").value&&await C(),window.scrollTo({top:0,behavior:"smooth"})}),(o,e)=>{const n=N,D=E,$=F,B=R;return d(),g("div",H,[v.value?(d(),U(G,{key:1})):(d(),g("div",q,[t("div",J,[s(A,{navs:S,isSmallSize:r.value,title:"Dash"},null,8,["isSmallSize"])]),t("div",K,[t("nav",Q,[t("div",W,[s(D,{class:"p-2 bg-gray-300",onClick:k},{default:V(()=>[s(n,{name:"sidebar",class:"text-white"})]),_:1}),t("span",X,f(o.menuTitle||"Facilitator Dashboard"),1)]),t("button",{onClick:e[0]||(e[0]=u=>c.value=!c.value),class:"flex items-center align-middle text-sm font-medium text-gray-900 rounded-full focus:outline-none focus:shadow-outline"},[s($,{alt:i.value.fullname??"",src:i.value.photo,size:"sm",imgClass:"object-cover"},null,8,["alt","src"]),t("span",Y,f(i.value.fullname??""),1),s(n,{name:"chevron-simple-down",class:"mx-4",filled:""})]),b(t("div",Z,[t("button",{class:"w-full flex gap-2 align-middle items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:e[1]||(e[1]=u=>_({name:"profile"}))},[s(n,{name:"user-circle",class:"text-2xl"}),e[4]||(e[4]=h(" Profile "))]),t("button",{class:"w-full flex gap-2 align-middle items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:e[2]||(e[2]=u=>_({name:"index"}))},[s(n,{name:"home",class:"text-2xl"}),e[5]||(e[5]=h(" Home "))]),t("button",{class:"w-full flex gap-2 align-middle items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:z},[s(n,{name:"logout",class:"text-2xl"}),e[6]||(e[6]=h(" Sign out "))])],512),[[w,c.value]])]),t("div",ee,[I(o.$slots,"default",{},void 0,!0)])])])),s(B,{"is-chat-show":l(a).isChatOpen},null,8,["is-chat-show"]),b(t("button",{class:"absolute bottom-5 right-5 p-4 flex gap-2 align-middle items-center text-sm bg-primary text-accent hover:bg-blue-900 rounded-full",onClick:e[3]||(e[3]=(...u)=>l(a).toggleChat&&l(a).toggleChat(...u))},[s(n,{name:"chat",class:"text-2xl"}),l(a).unreadMessages>0?(d(),g("span",te,f(l(a).unreadMessages>10?"New":l(a).unreadMessages),1)):j("",!0)],512),[[w,!l(a).isChatOpen]])])}}},me=M(se,[["__scopeId","data-v-1a78aed4"]]);export{me as default};

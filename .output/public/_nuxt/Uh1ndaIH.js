import{f as g,r as e,g as v,h as b,c as k,b as r,w as x,j as y,o as P,a as o,i as w}from"./XJk57Xzm.js";import{_ as M}from"./7oWaGxPY.js";import{c as S}from"./CeltkaOx.js";import{u as C}from"./1KzAzcSR.js";import"./BNtHcZP4.js";import"./viV4BwKR.js";import"./BQdhZYq_.js";import"./Y56T3AGQ.js";const N={class:"w-full h-full p-2 flex flex-col justify-center items-center"},O=["src"],Q={__name:"dashboard",setup(B){const{getMerchants:i,updateMerchantStatus:D}=C();g();const m=e(!1),p=e({title:"",message:"",callback:null}),d=e([]),c=e({label:"All",value:"all"}),u=e(""),l=e(1),n=e({page:1,totalPage:1,totalItems:0,itemsPerPage:10}),h=[[{key:"completed",label:"Completed",icon:"i-heroicons-check",callback:()=>{console.log("completed")}}],[{key:"uncompleted",label:"In Progress",icon:"i-heroicons-arrow-path",callback:()=>{console.log("uncompleted")}}]],s=async()=>{try{await i({page:l.value,per_page:n.value.itemsPerPage,status:c.value.value==="all"?"":c.value.value,search:u.value}).then(t=>{d.value=t.data.data.data.map(a=>({user:{id:a.id,fullname:a.fullname,email:a.email},phone:a.phone,type:a.merchants[0].type,bank:{bank:a.merchants[0].bank,bankAccount:a.merchants[0].bank_account},CV:a.merchants[0].cv_url,portfolio:JSON.parse(a.merchants[0].portfolios),certificate:JSON.parse(a.merchants[0].certificates),status:a.merchants[0].status,actions:h})),n.value={page:t.data.data.current_page,totalPage:t.data.data.last_page,totalItems:t.data.data.total,itemsPerPage:t.data.data.per_page}})}catch(t){console.error("Error fetching facilitators:",t)}};return v(l,s),b(()=>{s()}),(t,a)=>{const f=y,_=M;return P(),k("div",null,[r(f,{name:"merchant"},{default:x(()=>[o("div",N,[o("img",{src:w(S),alt:"",width:"300px"},null,8,O),a[0]||(a[0]=o("span",{class:"font-semibold text-2xl text-primary"}," Dashboard Comingsoon ",-1))])]),_:1}),r(_,{isOpen:m.value,data:p.value},null,8,["isOpen","data"])])}}};export{Q as default};

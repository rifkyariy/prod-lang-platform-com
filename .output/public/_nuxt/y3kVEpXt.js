import{_ as M}from"./CizdsbHW.js";import{_ as Y}from"./DDJzJDlt.js";import{_ as $}from"./ki6bLwiE.js";import{_ as P}from"./DZJ46zT2.js";import{_ as R}from"./BkpIvrcg.js";import{_ as z}from"./C0jI5ihE.js";import{E as A,D as G,f as H,Q as v,r as x,g as w,o as U,l as K,w as i,b as l,a as o,t as u,c as Q,m as q,d as V,p as J}from"./BEkH225l.js";import{_ as W}from"./Bk0utM0A.js";import{_ as X}from"./BNh9XT_a.js";import{u as Z}from"./CtX79Qbr.js";const ee={class:"flex justify-between items-center w-full border-b border-1 pb-4"},te={class:"flex flex-col justify-between pt-4 pb-10 h-full"},ae={class:"flex flex-col justify-start gap-4 items-center"},oe={class:"flex flex-col w-full"},le={class:"text-primary uppercase"},ne={class:"text-xl font-semibold text-primary"},se={class:"flex flex-col w-full"},re={class:"text-xl font-semibold text-primary capitalize"},ie={class:"w-full border-t border-b border-1 pt-4 pb-8 flex flex-col gap-4"},de={key:0,class:"mt-4"},ue={class:"flex justify-end space-x-2 px-4"},ce={class:"flex flex-col items-center w-full gap-2"},we={__name:"OrderSidebar",props:{isOpen:{type:Boolean,default:!1},data:{type:Object,default:()=>({title:"Sidebar Title",content:"Sidebar Content",confirmText:"Continue",cancelText:"Cancel",callback:()=>{}})}},emits:["update:isOpen"],setup(g,{emit:O}){const{setMyOrder:k}=Z();A();const C=G(),m=H(),n=g,F=v(()=>n.data.language_sources.filter(e=>e.id!==a.value.to.id)),T=v(()=>n.data.language_destinations.filter(e=>e.id!==a.value.from.id)),_=x(!1),a=x({price:0,type:"Translator",from:{},to:{},file_url:"",is_hardfile:null}),b=O,d=x(n.isOpen);w(()=>n.isOpen,e=>{d.value=e,e||c()}),w(d,e=>{b("update:isOpen",e)});const c=()=>{d.value=!1,b("hide")},D=e=>{a.value.file_url=e},h=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(e),S=()=>{const e={service_id:n.data.id,merchant_id:n.data.merchants[0].id,merchant_user_id:n.data.merchants[0].users[0].id,language_source:a.value.from,language_destination:a.value.to,user_file_url:a.value.file_url,is_hardfile:a.value.is_hardfile===""?null:a.value.is_hardfile},t=s=>s==null||s==="",f={service_id:"Service ID",merchant_id:"Merchant ID",merchant_user_id:"Merchant User ID",language_source:"Source Language",language_destination:"Destination Language",user_file_url:"Upload File"},p=["service_id","merchant_id","merchant_user_id","language_source","language_destination","user_file_url"];for(const s of p)if(t(e[s]))return m.add({title:"Uh Oh!",color:"red",icon:"i-heroicons-exclamation-triangle",description:`${f[s]} cannot be empty`}),null;return e},I=async()=>{try{const{data:e}=await k(S());m.add({title:"Success!",color:"green",icon:"i-heroicons-check-circle",description:"Your order have been successfully listed!"}),c(),C.push({name:"my-client-orders-id",params:{id:e.data.order.id}})}catch(e){console.error("Creating order failed:",e),m.add({title:"Uh Oh!",color:"red",icon:"i-heroicons-exclamation-triangle",description:e.response.data.message})}};return(e,t)=>{const f=M,p=Y,s=$,L=P,N=R,j=z,y=J,B=W,E=X;return U(),K(E,{modelValue:d.value,"onUpdate:modelValue":t[4]||(t[4]=r=>d.value=r),fullscreen:"","prevent-close":"",ui:{base:"w-full lg:w-[500px] absolute top-0 right-0 h-screen bg-white dark:bg-gray-800 lg:rounded-l-3xl",rounded:"rounded-none lg:rounded-l-3xl"}},{default:i(()=>[l(B,{ui:{base:"h-full",ring:"",divide:"divide-y divide-gray-100 dark:divide-gray-800",rounded:"rounded-none lg:rounded-l-3xl",body:{base:"h-full",padding:"px-6 py-5 sm:p-10"},header:{padding:"px-6 py-5 sm:px-8"},footer:{padding:"px-6 py-4 sm:px-10"}}},{default:i(()=>[o("div",ee,[o("button",{onClick:c},[l(f,{name:"back",class:"text-2xl text-primary dark:text-gray-300"})]),t[5]||(t[5]=o("h3",{class:"text-lg font-semibold w-full flex justify-center text-primary"}," Your Order ",-1))]),o("div",te,[o("div",ae,[o("div",oe,[o("label",le,u(n.data.type)+" PACKAGE",1),o("span",ne,u(h(n.data.price)),1)]),o("div",se,[t[6]||(t[6]=o("label",{class:"text-primary"},"Category",-1)),o("span",re,u(n.data.merchants[0].type),1)]),o("div",ie,[l(s,{label:"From",class:"w-full"},{default:i(()=>[l(p,{placeholder:"Find Your Language",options:F.value,modelValue:a.value.from,"onUpdate:modelValue":t[0]||(t[0]=r=>a.value.from=r),by:"id","option-attribute":"name","search-attributes":["name"]},null,8,["options","modelValue"])]),_:1}),l(s,{label:"To",class:"w-full"},{default:i(()=>[l(p,{placeholder:"Find Your Language",options:T.value,modelValue:a.value.to,"onUpdate:modelValue":t[1]||(t[1]=r=>a.value.to=r),by:"id","option-attribute":"name","search-attributes":["name"]},null,8,["options","modelValue"])]),_:1})]),l(s,{label:"Upload File",class:"w-full"},{default:i(()=>[l(L,{title:"Order",accept:"*","max-size":"52428800",onFileUploaded:D})]),_:1}),l(s,{label:"Do you want to send the document as a hard file?",class:"w-full"},{default:i(()=>[l(N,{modelValue:_.value,"onUpdate:modelValue":t[2]||(t[2]=r=>_.value=r),label:"Yes"},null,8,["modelValue"]),_.value?(U(),Q("div",de,[l(j,{modelValue:a.value.is_hardfile,"onUpdate:modelValue":t[3]||(t[3]=r=>a.value.is_hardfile=r),placeholder:"Enter your address",class:"w-full"},null,8,["modelValue"])])):q("",!0)]),_:1})]),o("div",ue,[o("div",ce,[l(y,{onClick:I,block:"",class:"px-4 py-2 bg-accent text-white hover:bg-accent-700 rounded-full"},{default:i(()=>[V(" Continue ("+u(h(n.data.price))+") ",1)]),_:1}),l(y,{onClick:c,color:"orange",variant:"link"},{default:i(()=>[V(u(g.data.cancelText)+" Cancel ",1)]),_:1})])])])]),_:1})]),_:1},8,["modelValue"])}}};export{we as _};

import{_ as N}from"./0oq0bqkJ.js";import{_ as P,E as T,D as A,r,g as M,h as U,G as g,c as y,z as p,a4 as f,a as t,b as a,q as V,w as I,t as h,d as v,$ as O,l as j,m as k,i as l,p as E,v as F,o as x}from"./XJk57Xzm.js";import{S as L}from"./CtYwzq_X.js";import{P as R}from"./CaKezGkQ.js";import{u as q,_ as G}from"./Ck55vBbv.js";import"./CrKBm7Us.js";import"./3djyFYDn.js";const H={class:"flex"},W={class:"sticky top-0 h-screen"},J={class:"p-6 w-full flex justify-between"},K={class:"flex gap-3 items-center"},Q={class:"font-semibold"},X={class:"mx-2"},Y={class:"absolute right-0 z-10 mt-10 w-48 py-1 bg-white rounded-lg shadow-lg"},Z={class:"w-full h-full"},ee={key:0,class:"absolute top-2 right-8 bg-red-600 text-white text-xs px-2 ml-1 rounded-full z-20"},te={__name:"admin",setup(se){const o=q();T();const _=A(),m=r(!0),c=r({fullname:"",photo:""}),n=r(!1),u=r(!1),S=()=>{n.value=!n.value,localStorage.setItem("sidenav-closed",n.value)},C=[{label:"Dashboard",icon:"i-heroicons-home",to:"/admin/dashboard"},{label:"Transactions",icon:"i-heroicons-chart-bar",to:"/admin/transactions"},{label:"Facilitators",icon:"i-heroicons-building-storefront",to:"/admin/merchants"},{label:"Ads",icon:"i-heroicons-megaphone",to:"/admin/ads"},{label:"Users",icon:"i-heroicons-users",to:"/admin/users"},{label:"Packages",icon:"i-heroicons-sparkles",to:"/admin/packages"},{label:"Settings",icon:"i-heroicons-cog",to:"/admin/settings"}],b=r("w-11/12"),z=async()=>{try{c.value=g("token").value.user||null}catch(s){console.error("Fetching user failed:",s)}},D=()=>{const s=g("token");s.value=null,u.value=!1,_.push("/auth/login")},w=s=>{_.push(s)};return M(n,s=>{b.value=s?"w-full":"w-11/12"}),U(async()=>{n.value=localStorage.getItem("sidenav-closed")==="true",g("token").value&&await z(),m.value=!1,window.scrollTo({top:0,behavior:"smooth"})}),(s,e)=>{const i=N,$=E,B=F;return x(),y("div",null,[p(t("div",H,[t("div",W,[a(L,{"is-admin":"",navs:C,isSmallSize:n.value,title:"Admin"},null,8,["isSmallSize"])]),t("div",{class:V(["flex flex-col bg-slate-100",b.value])},[t("nav",J,[t("div",K,[a($,{class:"p-2 bg-gray-300",onClick:S},{default:I(()=>[a(i,{name:"sidebar",class:"text-white"})]),_:1}),t("span",Q,h(s.menuTitle||"Admin Dashboard"),1)]),t("button",{onClick:e[0]||(e[0]=d=>u.value=!u.value),class:"flex items-center align-middle text-sm font-medium text-gray-900 rounded-full focus:outline-none focus:shadow-outline"},[a(B,{alt:c.value.fullname??"",src:c.value.photo,size:"sm",imgClass:"object-cover"},null,8,["alt","src"]),t("span",X,h(c.value.fullname??""),1),a(i,{name:"chevron-simple-down",class:"mx-4",filled:""})]),p(t("div",Y,[t("button",{class:"w-full flex gap-2 align-middle items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:e[1]||(e[1]=d=>w({name:"profile"}))},[a(i,{name:"user-circle",class:"text-2xl"}),e[4]||(e[4]=v(" Profile "))]),t("button",{class:"w-full flex gap-2 align-middle items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:e[2]||(e[2]=d=>w({name:"index"}))},[a(i,{name:"home",class:"text-2xl"}),e[5]||(e[5]=v(" Home "))]),t("button",{class:"w-full flex gap-2 align-middle items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:D},[a(i,{name:"logout",class:"text-2xl"}),e[6]||(e[6]=v(" Sign out "))])],512),[[f,u.value]])]),t("div",Z,[O(s.$slots,"default",{},void 0,!0)])],2)],512),[[f,!m.value]]),m.value?(x(),j(R,{key:0})):k("",!0),a(G,{"is-chat-show":l(o).isChatOpen},null,8,["is-chat-show"]),p(t("button",{class:"absolute bottom-5 right-5 p-4 flex gap-2 align-middle items-center text-sm bg-primary text-accent hover:bg-blue-900 rounded-full",onClick:e[3]||(e[3]=(...d)=>l(o).toggleChat&&l(o).toggleChat(...d))},[a(i,{name:"chat",class:"text-2xl"}),l(o).unreadMessages>0?(x(),y("span",ee,h(l(o).unreadMessages>10?"New":l(o).unreadMessages),1)):k("",!0)],512),[[f,!l(o).isChatOpen]])])}}},ue=P(te,[["__scopeId","data-v-161d7d85"]]);export{ue as default};
